<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Detail | +1 Design</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 核心容器：限制最大寬度為 1024px */
        .container-1024 {
            max-width: 1024px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .project-container { padding-top: 140px; }
        
        /* 封面大圖間距 */
        .project-hero { margin-bottom: 60px; }

        /* 文字內容區：全部置左 */
        .project-info {
            text-align: left;
            margin-bottom: 100px;
        }

        .info-header { margin-bottom: 24px; }
        #proj-category { 
            font-size: 13px; 
            letter-spacing: 2px; 
            text-transform: uppercase; 
            color: #888; 
            margin-bottom: 8px;
            display: block;
        }
        #proj-title { 
            font-size: clamp(2rem, 5vw, 3rem); 
            font-weight: 300; 
            margin: 0 0 30px 0; 
            letter-spacing: -1px;
            line-height: 1.2;
        }

        /* 長敘述：移除標題，直接接在 H1 後面 */
        .info-description { max-width: 750px; }
        #proj-desc { 
            font-size: 16px; 
            line-height: 2; 
            color: #333; 
            white-space: pre-line; /* 保留 data.js 中的換行 */
        }

        /* 細節圖樣式 */
        #proj-gallery { margin-top: 40px; }
        .gallery-item { 
            width: 100%; 
            height: auto; 
            margin-bottom: 40px; 
            display: block; 
        }

        /* 手機版調整 */
        @media (max-width: 768px) {
            .container-1024 { padding: 0 20px; }
            .project-container { padding-top: 100px; }
            #proj-title { font-size: 2rem; margin-bottom: 20px; }
        }
        /* 複用首頁 Grid 樣式 */
.grid { 
    display: grid; 
    grid-template-columns: repeat(2, 1fr); /* 內頁建議兩欄，視覺較穩重 */
    gap: 40px 20px; 
    margin-bottom: 100px;
}

/* 確保圖片在 Grid 中維持比例 */
.more-works-section .img-container {
    aspect-ratio: 3 / 2;
    overflow: hidden;
    margin-bottom: 15px;
}

/* 響應式：手機版改為一欄 */
@media (max-width: 600px) {
    .grid { grid-template-columns: 1fr; }
}
    </style>
</head>
<body>

    <nav>
        <div class="logo"><a href="index.html" style="text-decoration:none; color:#1a1a1a;">+1 DESIGN</a></div>
        <div class="nav-links">
            <a href="index.html">Back to Works</a>
        </div>
    </nav>

    <section class="more-works-section container-1024">
        <h2 style="font-size: 14px; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 40px; font-weight: 500; border-top: 1px solid #eee; padding-top: 60px;">More Works</h2>
        <div id="more-works-grid" class="grid">
            </div>
    </section>
    
    <main class="project-container">
        <section class="project-hero container-1024">
            <div class="img-container">
                <img id="hero-img" src="" alt="Loading...">
            </div>
        </section>

        <section class="project-info container-1024">
            <div class="info-header">
                <span id="proj-category"></span>
                <h1 id="proj-title"></h1>
                <div class="info-description">
                    <p id="proj-desc"></p>
                </div>
            </div>
        </section>

        <section id="proj-gallery" class="container-1024">
            </section>

        <section class="contact-section">
            <a href="index.html" class="email-btn">Back to All Works</a>
        </section>
    </main>

    <script src="data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const projectID = params.get('id');

            if (window.projectData) {
                const project = window.projectData.find(p => p.id === projectID);

                if (project) {
                    document.title = `${project.title} | +1 Design`;
                    document.getElementById('proj-title').innerText = project.title;
                    document.getElementById('proj-category').innerText = project.category;
                    document.getElementById('proj-desc').innerText = project.description;
                    document.getElementById('hero-img').src = project.image;

                    const gallery = document.getElementById('proj-gallery');
                    if (project.details && Array.isArray(project.details)) {
                        project.details.forEach(imgSrc => {
                            const img = document.createElement('img');
                            img.src = imgSrc;
                            img.className = "gallery-item";
                            img.onerror = () => img.style.display = 'none';
                            gallery.appendChild(img);
                        const moreWorksGrid = document.getElementById('more-works-grid');
const otherProjects = window.projectData.filter(p => p.id !== projectID);

// 限制顯示數量，例如只顯示最新的 2 個或 4 個
otherProjects.slice(0, 4).forEach(p => {
    const item = document.createElement('a');
    item.href = p.link;
    item.className = 'work-item visible'; // 直接顯示，不加延遲動畫
    item.style.padding = '0'; // 內頁列表建議簡約，不需首頁的大內距
    
    item.innerHTML = `
        <div class="img-container">
            <img src="${p.image}" alt="${p.title}" style="transition: transform 1.2s cubic-bezier(0.22, 1, 0.36, 1);">
        </div>
        <div class="work-info">
            <h3 style="font-size: 14px;">${p.title}</h3>
            <p style="font-size: 11px; color: #888;">${p.category}</p>
        </div>
    `;

    // 同樣加入首頁的 hover 放大效果 (CSS 已處理)
    moreWorksGrid.appendChild(item);
});
                        });
                    }
                } else {
                    window.location.href = 'index.html'; // 找不到 ID 就回首頁
                }
            }
        });
    </script>
</body>
</html>
