<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Detail | +1 Design</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 內頁專屬微調 */
        .project-container { padding-top: 120px; }
        .project-hero { padding: 0 5%; margin-bottom: 60px; }
        .project-header { padding: 0 5%; margin-bottom: 80px; }
        .project-description { padding: 80px 5%; background: #fcfcfc; margin-bottom: 60px; }
        .content-wrapper { max-width: 800px; margin: 0 auto; }
        .gallery-item { width: 100%; margin-bottom: 60px; display: block; }
        #proj-gallery img { width: 100%; height: auto; display: block; margin-bottom: 40px; }
        
        /* 標題與文字細節 */
        #proj-title { font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 300; margin: 10px 0; }
        #proj-category { font-size: 12px; letter-spacing: 2px; text-transform: uppercase; color: #888; }
        #proj-desc { font-size: 16px; line-height: 1.8; color: #444; white-space: pre-line; }
    </style>
</head>
<body>

    <nav>
        <div class="logo"><a href="index.html" style="text-decoration:none; color:#1a1a1a;">+1 DESIGN</a></div>
        <div class="nav-links">
            <a href="index.html">Back to Works</a>
        </div>
    </nav>

    <main class="project-container">
        <section class="project-hero">
            <div class="img-container">
                <img id="hero-img" src="" alt="Loading...">
            </div>
        </section>

        <section class="project-header">
            <div class="header-content">
                <p id="proj-category" class="category"></p>
                <h1 id="proj-title"></h1>
            </div>
        </section>

        <section class="project-description">
            <div class="content-wrapper">
                <h3 style="margin-bottom: 20px; font-weight: 500;">Design Concept</h3>
                <p id="proj-desc"></p>
            </div>
        </section>

        <section id="proj-gallery" style="padding: 0 5%;">
            </section>

        <section class="contact-section">
            <a href="index.html" class="email-btn">Back to All Works</a>
        </section>
    </main>

    <script src="data.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 取得網址上的 id 參數 (?id=p01)
            const params = new URLSearchParams(window.location.search);
            const projectID = params.get('id');

            // 從 data.js (window.projectData) 尋找資料
            if (window.projectData) {
                const project = window.projectData.find(p => p.id === projectID);

                if (project) {
                    // 填入基礎文字與封面
                    document.title = `${project.title} | +1 Design`;
                    document.getElementById('proj-title').innerText = project.title;
                    document.getElementById('proj-category').innerText = project.category;
                    document.getElementById('proj-desc').innerText = project.description;
                    document.getElementById('hero-img').src = project.image;

                    // 處理細節圖片陣列
                    const gallery = document.getElementById('proj-gallery');
                    if (project.details && Array.isArray(project.details)) {
                        project.details.forEach(imgSrc => {
                            const img = document.createElement('img');
                            img.src = imgSrc;
                            img.alt = "Project Detail";
                            img.className = "gallery-item";
                            
                            // 防錯：如果圖片讀不到，就在控制台提醒
                            img.onerror = () => console.error(`無法載入圖片: ${imgSrc}`);
                            
                            gallery.appendChild(img);
                        });
                    }
                } else {
                    // 若找不到 ID 對應的作品
                    document.querySelector('.project-container').innerHTML = 
                        "<div style='text-align:center; padding: 100px 0;'><h1>Project Not Found</h1><br><a href='index.html'>Back Home</a></div>";
                }
            } else {
                console.error("data.js 未能正確載入");
            }
        });
    </script>
</body>
</html>
